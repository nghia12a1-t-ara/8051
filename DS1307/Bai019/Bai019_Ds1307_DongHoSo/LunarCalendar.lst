C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE LUNARCALENDAR
OBJECT MODULE PLACED IN .\LunarCalendar.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\Lib\LunarCalendar.c OMF2 BROWSE DEBUG PRINT(.\LunarCalendar.lst) OBJECT(
                    -.\LunarCalendar.obj)

line level    source

   1          #include"LunarCalendar.h"
   2          
   3          // Lunar Calendar Lookup Table 
   4          // From 1/1/2000 to 31/12/2099
   5          #define BEGINNING_YEAR  0
   6          unsigned int code LUNAR_CALENDAR_LOOKUP_TABLE[] = {
   7          
   8                  //2000
   9                  0x1B79,0x099A,0x1A3A,0x125B,0x187B,0x109D,0x1ABE,0x18E2,0x1304,0x1924,0x1346,0x1B66,
  10          
  11                  //2001
  12                  0x1987,0x0229,0x1A47,0x1068,0x1A89,0x108A,0x1AAB,0x18CC,0x10EE,0x1B0F,0x1130,0x1B51,
  13          
  14                  //2002
  15                  0x1972,0x0394,0x1A32,0x1253,0x1873,0x1295,0x18B5,0x1AD7,0x10F8,0x1919,0x133B,0x195B,
  16          
  17                  //2003
  18                  0x1B7D,0x0021,0x1A3D,0x125E,0x1881,0x12A2,0x18C2,0x1AE4,0x1105,0x1926,0x1348,0x1968,
  19          
  20                  //2004
  21                  0x1B8A,0x082B,0x1A4B,0x104C,0x1A6D,0x128E,0x18AE,0x1AD0,0x10F1,0x1B12,0x1133,0x1B54,
  22          
  23                  //2005
  24                  0x1975,0x0397,0x1835,0x1257,0x1877,0x1299,0x18B9,0x1ADB,0x12FC,0x191C,0x133E,0x1961,
  25          
  26                  //2006
  27                  0x1982,0x0224,0x1842,0x1264,0x1884,0x10A6,0x1AC7,0x1AE8,0x10E9,0x1B0A,0x132B,0x194B,
  28          
  29                  //2007
  30                  0x1B6D,0x018E,0x1A2D,0x104E,0x1A6F,0x1090,0x18B1,0x1AD3,0x10F4,0x1B15,0x1336,0x1B56,
  31          
  32                  //2008
  33                  0x1977,0x0B99,0x1A38,0x1059,0x187A,0x129C,0x18BC,0x18E1,0x1102,0x1B23,0x1144,0x1B65,
  34          
  35                  //2009
  36                  0x1B86,0x0227,0x1845,0x1267,0x1887,0x12A9,0x18A9,0x18CB,0x12ED,0x190D,0x132F,0x194F,
  37          
  38                  //2010
  39                  0x1B71,0x0392,0x1A30,0x1051,0x1A72,0x1093,0x1AB4,0x18D5,0x10F7,0x1B18,0x1139,0x1B5A,
  40          
  41                  //2011
  42                  0x197B,0x039D,0x1A3B,0x105C,0x1A7D,0x129E,0x18C1,0x18E2,0x1104,0x1B25,0x1146,0x1B67,
  43          
  44                  //2012
  45                  0x1988,0x0A2A,0x1849,0x126B,0x1A8B,0x108C,0x1AAD,0x18CE,0x12F0,0x1910,0x1332,0x1952,
  46          
  47                  //2013
  48                  0x1B74,0x0195,0x1A34,0x1055,0x1A76,0x1097,0x1AB8,0x1AD9,0x10FA,0x1B1B,0x113C,0x1B5D,
  49          
  50                  //2014
  51                  0x1981,0x0022,0x1841,0x1062,0x1A83,0x10A4,0x1AC5,0x18E6,0x1308,0x1B28,0x1129,0x1B4A,
  52          
  53                  //2015
  54                  0x196B,0x038D,0x182B,0x124D,0x186D,0x108F,0x1AB0,0x18D1,0x12F3,0x1B13,0x1334,0x1954,
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 2   

  55          
  56                  //2016
  57                  0x1B76,0x0997,0x1A37,0x1058,0x1A79,0x109A,0x18BB,0x1ADD,0x1101,0x1B21,0x1142,0x1B63,
  58          
  59                  //2017
  60                  0x1B84,0x0025,0x1A44,0x1065,0x1A86,0x10A7,0x18C8,0x1ACA,0x10EB,0x1B0C,0x112D,0x1B4E,
  61          
  62                  //2018
  63                  0x1B6F,0x0390,0x182E,0x1250,0x1870,0x1292,0x18B2,0x18D4,0x12F6,0x1916,0x1138,0x1B59,
  64          
  65                  //2019
  66                  0x1B7A,0x039B,0x1839,0x125B,0x1A7B,0x109C,0x1ABD,0x18E1,0x1303,0x1923,0x1145,0x1B66,
  67          
  68                  //2020
  69                  0x1B87,0x0828,0x1A48,0x1269,0x1A89,0x108A,0x1AAB,0x18CC,0x10EE,0x1B0F,0x1130,0x1951,
  70          
  71                  //2021
  72                  0x1B73,0x0394,0x1832,0x1254,0x1A74,0x1095,0x1AB6,0x18D7,0x12F9,0x1919,0x133B,0x195B,
  73          
  74                  //2022
  75                  0x1B7D,0x0021,0x1A3D,0x1061,0x1A81,0x12A3,0x1AC3,0x18E4,0x1306,0x1926,0x1348,0x1968,
  76          
  77                  //2023
  78                  0x1B8A,0x002B,0x1A4A,0x104B,0x186C,0x128E,0x1AAE,0x18CF,0x12F1,0x1B11,0x1132,0x1B53,
  79          
  80                  //2024
  81                  0x1974,0x0B96,0x1835,0x1257,0x1877,0x1099,0x1ABA,0x18DB,0x12FD,0x1B1D,0x1141,0x1B61,
  82          
  83                  //2025
  84                  0x1982,0x0224,0x1842,0x1264,0x1884,0x10A6,0x1AC7,0x18C8,0x12EA,0x190A,0x132C,0x1B4C,
  85          
  86                  //2026
  87                  0x1B6D,0x018E,0x1A2D,0x104E,0x1A6F,0x1090,0x18B1,0x1AD3,0x10F4,0x1915,0x1337,0x1B57,
  88          
  89                  //2027
  90                  0x1B78,0x0199,0x1A38,0x1259,0x1879,0x129B,0x18BB,0x18DD,0x1301,0x1922,0x1344,0x1B64,
  91          
  92                  //2028
  93                  0x1985,0x0A27,0x1A46,0x1267,0x1887,0x12A9,0x18A9,0x18CB,0x12ED,0x190D,0x112F,0x1B50,
  94          
  95                  //2029
  96                  0x1B71,0x0192,0x1A31,0x1252,0x1872,0x1294,0x18B4,0x1AD6,0x10F7,0x1B18,0x1139,0x195A,
  97          
  98                  //2030
  99                  0x1B7C,0x019D,0x1A3C,0x125D,0x187D,0x12A1,0x1AC1,0x1AE3,0x1104,0x1B25,0x1146,0x1B67,
 100          
 101                  //2031
 102                  0x1988,0x002A,0x1A49,0x106A,0x1A6B,0x128C,0x18AC,0x1ACE,0x12EF,0x190F,0x1331,0x1951,
 103          
 104                  //2032
 105                  0x1B73,0x0994,0x1834,0x1256,0x1876,0x1298,0x18B8,0x1ADA,0x12FB,0x191B,0x133D,0x1B5D,
 106          
 107                  //2033
 108                  0x1981,0x0022,0x1841,0x1062,0x1883,0x12A5,0x18C5,0x1AE7,0x1108,0x1B29,0x134A,0x1B6A,
 109          
 110                  //2034
 111                  0x196B,0x038D,0x182B,0x124D,0x186D,0x108F,0x1AB0,0x18D1,0x10F3,0x1B14,0x1335,0x1B55,
 112          
 113                  //2035
 114                  0x1976,0x0398,0x1A36,0x1057,0x1A78,0x1099,0x18BA,0x1ADC,0x10FD,0x1921,0x1342,0x1962,
 115          
 116                  //2036
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 3   

 117                  0x1B84,0x0A25,0x1A44,0x1065,0x1A86,0x10A7,0x18C8,0x1ACA,0x10EB,0x190C,0x132E,0x194E,
 118          
 119                  //2037
 120                  0x1B70,0x0391,0x1A2F,0x1050,0x1A71,0x1292,0x18B2,0x18D4,0x12F6,0x1916,0x1138,0x1B59,
 121          
 122                  //2038
 123                  0x197A,0x039C,0x1A3A,0x105B,0x1A7C,0x129D,0x18BD,0x1AE1,0x1303,0x1923,0x1145,0x1B66,
 124          
 125                  //2039
 126                  0x1987,0x0229,0x1A47,0x1068,0x1A89,0x12AA,0x18AA,0x1ACC,0x10ED,0x1B0E,0x112F,0x1950,
 127          
 128                  //2040
 129                  0x1B72,0x0993,0x1A33,0x1054,0x1A75,0x1296,0x18B6,0x1AD8,0x10F9,0x1B1A,0x133B,0x195B,
 130          
 131                  //2041
 132                  0x1B7D,0x0021,0x183D,0x1261,0x1A82,0x10A3,0x1AC4,0x18E5,0x1307,0x1B27,0x1348,0x1968,
 133          
 134                  //2042
 135                  0x1B8A,0x002B,0x1A4A,0x104B,0x186C,0x128E,0x18AE,0x1AD0,0x10F1,0x1B12,0x1333,0x1953,
 136          
 137                  //2043
 138                  0x1B75,0x0396,0x1834,0x1256,0x1876,0x1098,0x1AB9,0x18DA,0x10FC,0x1B1D,0x133E,0x1961,
 139          
 140                  //2044
 141                  0x1B82,0x0A23,0x1842,0x1264,0x1884,0x10A6,0x1AC7,0x18E8,0x10EA,0x1B0B,0x112C,0x1B4D,
 142          
 143                  //2045
 144                  0x1B6E,0x038F,0x1A2D,0x104E,0x1A6F,0x1090,0x18B1,0x1AD3,0x10F4,0x1915,0x1337,0x1957,
 145          
 146                  //2046
 147                  0x1B79,0x039A,0x1A38,0x1059,0x1A7A,0x109B,0x1ABC,0x18DD,0x1301,0x1922,0x1344,0x1964,
 148          
 149                  //2047
 150                  0x1B86,0x0227,0x1845,0x1267,0x1A87,0x10A8,0x1AA9,0x18CA,0x12EC,0x190C,0x112E,0x1B4F,
 151          
 152                  //2048
 153                  0x1970,0x0B92,0x1831,0x1253,0x1A73,0x1094,0x1AB5,0x1AD6,0x10F7,0x1B18,0x1139,0x195A,
 154          
 155                  //2049
 156                  0x1B7C,0x019D,0x1A3C,0x105D,0x1A7E,0x12A2,0x1AC2,0x18E3,0x1305,0x1925,0x1347,0x1B67,
 157          
 158                  //2050
 159                  0x1988,0x002A,0x1A49,0x106A,0x1A6B,0x108C,0x1AAD,0x18CE,0x12F0,0x1B10,0x1131,0x1B52,
 160          
 161                  //2051
 162                  0x1B73,0x0194,0x1833,0x1255,0x1875,0x1297,0x18B7,0x18D9,0x12FB,0x1B1B,0x113C,0x1B5D,
 163          
 164                  //2052
 165                  0x1B7E,0x0A21,0x1841,0x1062,0x1883,0x12A5,0x18C5,0x18E7,0x1309,0x1909,0x132B,0x1B4B,
 166          
 167                  //2053
 168                  0x1B6C,0x018D,0x1A2C,0x124D,0x186D,0x108F,0x1AB0,0x18D1,0x10F3,0x1B14,0x1135,0x1B56,
 169          
 170                  //2054
 171                  0x1B77,0x0398,0x1836,0x1258,0x1878,0x129A,0x18BA,0x1ADC,0x10FD,0x1921,0x1142,0x1B63,
 172          
 173                  //2055
 174                  0x1B84,0x0025,0x1A44,0x1265,0x1885,0x12A7,0x18C7,0x1AC9,0x10EA,0x190B,0x132D,0x194D,
 175          
 176                  //2056
 177                  0x1B6F,0x0990,0x1A30,0x1251,0x1871,0x1293,0x1AB3,0x18D4,0x12F6,0x1916,0x1138,0x1B59,
 178          
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 4   

 179                  //2057
 180                  0x197A,0x039C,0x183A,0x125C,0x187C,0x129E,0x1ABE,0x1AE2,0x1103,0x1B24,0x1145,0x1B66,
 181          
 182                  //2058
 183                  0x1987,0x0229,0x1847,0x1269,0x1889,0x128B,0x18AB,0x1ACD,0x12EE,0x190E,0x1330,0x1950,
 184          
 185                  //2059
 186                  0x1B72,0x0193,0x1A32,0x1053,0x1A74,0x1095,0x1AB6,0x18D7,0x12F9,0x1919,0x133B,0x1B5B,
 187          
 188                  //2060
 189                  0x197C,0x0B9E,0x183D,0x1261,0x1A82,0x10A3,0x18C4,0x1AE6,0x1107,0x1B28,0x1349,0x1B69,
 190          
 191                  //2061
 192                  0x198A,0x022C,0x1A4A,0x106B,0x186C,0x128E,0x18AE,0x18D0,0x12F2,0x1912,0x1334,0x1B54,
 193          
 194                  //2062
 195                  0x1B75,0x0196,0x1A35,0x1256,0x1876,0x1098,0x1AB9,0x18DA,0x10FC,0x1B1D,0x1141,0x1B61,
 196          
 197                  //2063
 198                  0x1B83,0x0224,0x1A42,0x1063,0x1A84,0x10A5,0x1AC6,0x18E7,0x10E9,0x1B0A,0x112B,0x1B4C,
 199          
 200                  //2064
 201                  0x196D,0x0B8F,0x1A2E,0x124F,0x186F,0x1291,0x18B1,0x1AD3,0x10F4,0x1915,0x1337,0x1957,
 202          
 203                  //2065
 204                  0x1B79,0x019A,0x1A39,0x125A,0x187A,0x129C,0x1ABC,0x18DD,0x1302,0x1922,0x1344,0x1964,
 205          
 206                  //2066
 207                  0x1B86,0x0027,0x1A46,0x1067,0x1A88,0x12A9,0x18A9,0x1ACB,0x10EC,0x1B0D,0x112E,0x1B4F,
 208          
 209                  //2067
 210                  0x1970,0x0392,0x1830,0x1252,0x1872,0x1294,0x18B4,0x1AD6,0x12F7,0x1917,0x1339,0x1959,
 211          
 212                  //2068
 213                  0x1B7B,0x099C,0x1A3C,0x105D,0x1A7E,0x10A2,0x1AC3,0x1AE4,0x1105,0x1B26,0x1347,0x1967,
 214          
 215                  //2069
 216                  0x1B89,0x002A,0x1A49,0x106A,0x1A8B,0x108C,0x18AD,0x1ACF,0x10F0,0x1B11,0x1332,0x1B52,
 217          
 218                  //2070
 219                  0x1973,0x0395,0x1833,0x1255,0x1875,0x1297,0x18B7,0x18D9,0x12FB,0x191B,0x133D,0x195D,
 220          
 221                  //2071
 222                  0x1B81,0x0222,0x1A3E,0x1262,0x1882,0x12A4,0x18C4,0x18E6,0x1308,0x1908,0x132A,0x194A,
 223          
 224                  //2072
 225                  0x1B6C,0x0B8D,0x1A2C,0x104D,0x1A6E,0x108F,0x1AB0,0x18D1,0x10F3,0x1B14,0x1135,0x1956,
 226          
 227                  //2073
 228                  0x1B78,0x0399,0x1A37,0x1058,0x1A79,0x129A,0x18BA,0x1ADC,0x10FD,0x1921,0x1142,0x1963,
 229          
 230                  //2074
 231                  0x1B85,0x0226,0x1844,0x1266,0x1A86,0x10A7,0x1AC8,0x18C9,0x12EB,0x190B,0x132D,0x194D,
 232          
 233                  //2075
 234                  0x1B6F,0x0190,0x1A2F,0x1050,0x1A71,0x1092,0x1AB3,0x1AD4,0x10F5,0x1B16,0x1137,0x1B58,
 235          
 236                  //2076
 237                  0x1979,0x0B9B,0x183A,0x125C,0x187C,0x129E,0x18C1,0x18E2,0x1304,0x1B24,0x1145,0x1B66,
 238          
 239                  //2077
 240                  0x1987,0x0229,0x1847,0x1269,0x1889,0x108B,0x1AAC,0x18CD,0x12EF,0x1B0F,0x1130,0x1B51,
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 5   

 241          
 242                  //2078
 243                  0x1B72,0x0193,0x1A32,0x1053,0x1A74,0x1095,0x18B6,0x1AD8,0x10F9,0x1B1A,0x113B,0x1B5C,
 244          
 245                  //2079
 246                  0x1B7D,0x039E,0x183C,0x125E,0x1881,0x10A2,0x18C3,0x1AE5,0x1106,0x1B27,0x1148,0x1B69,
 247          
 248                  //2080
 249                  0x1B8A,0x0A2B,0x184A,0x126C,0x186C,0x128E,0x18AE,0x18D0,0x10F2,0x1B13,0x1134,0x1B55,
 250          
 251                  //2081
 252                  0x1B76,0x0397,0x1835,0x1257,0x1A77,0x1098,0x1AB9,0x18DA,0x10FC,0x1B1D,0x1141,0x1B62,
 253          
 254                  //2082
 255                  0x1B83,0x0024,0x1A43,0x1264,0x1884,0x12A6,0x18C6,0x1AE8,0x10E9,0x1B0A,0x112B,0x194C,
 256          
 257                  //2083
 258                  0x1B6E,0x038F,0x182D,0x124F,0x1A6F,0x1090,0x1AB1,0x18D2,0x12F4,0x1914,0x1336,0x1956,
 259          
 260                  //2084
 261                  0x1B78,0x0999,0x1A39,0x105A,0x1A7B,0x109C,0x1ABD,0x1ADE,0x1302,0x1922,0x1344,0x1964,
 262          
 263                  //2085
 264                  0x1B86,0x0027,0x1846,0x1268,0x1888,0x12AA,0x1AAA,0x18CB,0x12ED,0x190D,0x132F,0x1B4F,
 265          
 266                  //2086
 267                  0x1970,0x0392,0x1830,0x1052,0x1A73,0x1094,0x1AB5,0x18D6,0x12F8,0x1B18,0x1139,0x1B5A,
 268          
 269                  //2087
 270                  0x1B7B,0x019C,0x1A3B,0x105C,0x1A7D,0x10A1,0x1AC2,0x18E3,0x1305,0x1925,0x1347,0x1B67,
 271          
 272                  //2088
 273                  0x1B88,0x0829,0x1A49,0x106A,0x1A8B,0x108C,0x18AD,0x18CF,0x12F1,0x1911,0x1333,0x1B53,
 274          
 275                  //2089
 276                  0x1B74,0x0195,0x1A34,0x1255,0x1875,0x1297,0x18B7,0x18D9,0x10FB,0x1B1C,0x113D,0x1B5E,
 277          
 278                  //2090
 279                  0x1B81,0x0223,0x1A41,0x1262,0x1882,0x12A4,0x18C4,0x18E6,0x1308,0x1908,0x112A,0x1B4B,
 280          
 281                  //2091
 282                  0x196C,0x038E,0x1A2C,0x124D,0x186D,0x128F,0x18AF,0x1AD1,0x10F2,0x1B13,0x1134,0x1955,
 283          
 284                  //2092
 285                  0x1B77,0x0998,0x1A38,0x1259,0x1879,0x129B,0x1ABB,0x18DC,0x12FE,0x1921,0x1142,0x1963,
 286          
 287                  //2093
 288                  0x1B85,0x0026,0x1A45,0x1066,0x1A87,0x12A8,0x18C8,0x1ACA,0x12EB,0x190B,0x132D,0x194D,
 289          
 290                  //2094
 291                  0x1B6F,0x0190,0x182F,0x1251,0x1871,0x1293,0x18B3,0x1AD5,0x12F6,0x1916,0x1338,0x1B58,
 292          
 293                  //2095
 294                  0x1979,0x039B,0x1839,0x105B,0x1A7C,0x109D,0x1ABE,0x1AE2,0x1103,0x1B24,0x1345,0x1B65,
 295          
 296                  //2096
 297                  0x1986,0x0A28,0x1847,0x1269,0x1889,0x108B,0x1AAC,0x18CD,0x10EF,0x1B10,0x1331,0x1B51,
 298          
 299                  //2097
 300                  0x1972,0x0394,0x1A32,0x1053,0x1A74,0x1095,0x18B6,0x18D8,0x12FA,0x191A,0x133C,0x1B5C,
 301          
 302                  //2098
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 6   

 303                  0x197D,0x0221,0x1A3D,0x125E,0x1881,0x10A2,0x18C3,0x18E5,0x1307,0x1927,0x1349,0x1969,
 304          
 305                  //2099
 306                  0x1B8B,0x022C,0x1A4A,0x104B,0x1A6C,0x108D,0x1AAE,0x18CF,0x10F1,0x1B12,0x1133,0x1B54};
 307          
 308          void Solar2Lunar(unsigned char SolarDate, unsigned char SolarMonth, unsigned char SolarYear,
 309                  unsigned char * LunarDate, unsigned char * LunarMonth, char * LunarYear)
 310          {       
 311   1              unsigned char N_AL_DT_DL; 
 312   1              unsigned char T_AL_DT_DL; 
 313   1              unsigned char SN_CT_AL;
 314   1              unsigned char TN_B_THT;
 315   1              unsigned char N_AL_DT_DL_TT;
 316   1              unsigned char T_AL_DT_DL_TT;
 317   1      
 318   1              union LUNAR_RECORD lr;
 319   1      
 320   1              lr.Word = LUNAR_CALENDAR_LOOKUP_TABLE[(SolarYear-BEGINNING_YEAR)*12+SolarMonth -1]; 
 321   1              N_AL_DT_DL = lr.Info.N_AL_DT_DL;
 322   1              T_AL_DT_DL = lr.Info.T_AL_DT_DL;
 323   1              SN_CT_AL = lr.Info.SN_CT_AL + 29;
 324   1              TN_B_THT =  lr.Info.TN_B_THT;
 325   1      
 326   1              lr.Word = LUNAR_CALENDAR_LOOKUP_TABLE[(SolarYear-BEGINNING_YEAR)*12+SolarMonth];
 327   1              N_AL_DT_DL_TT = lr.Info.N_AL_DT_DL;
 328   1              T_AL_DT_DL_TT = lr.Info.T_AL_DT_DL;
 329   1      
 330   1              // Tinh ngay & thang
 331   1              if(N_AL_DT_DL == SN_CT_AL && N_AL_DT_DL_TT == 2)
 332   1              {
 333   2                      if(SolarDate==1)
 334   2                      {
 335   3                              (*LunarDate) = N_AL_DT_DL;
 336   3                              (*LunarMonth) = T_AL_DT_DL;
 337   3                      }
 338   2                      else if(SolarDate==31)
 339   2                      {
 340   3                              (*LunarDate) = 1;
 341   3                              (*LunarMonth) = T_AL_DT_DL_TT;
 342   3                      }
 343   2                      else
 344   2                      {
 345   3                              (*LunarDate) = SolarDate - 1;
 346   3                              if(TN_B_THT)
 347   3                              {
 348   4                                      (*LunarMonth) = T_AL_DT_DL;
 349   4                              }
 350   3                              else
 351   3                              {
 352   4                                      (*LunarMonth) = T_AL_DT_DL==12?1:(T_AL_DT_DL + 1);
 353   4                              } 
 354   3                      }
 355   2              }
 356   1              else
 357   1              {
 358   2                      (*LunarDate) = SolarDate + N_AL_DT_DL - 1;
 359   2                      if((*LunarDate)<= SN_CT_AL)
 360   2                      {
 361   3                              (*LunarMonth) = T_AL_DT_DL;
 362   3                      }
 363   2                      else
 364   2                      {
C51 COMPILER V9.01   LUNARCALENDAR                                                         03/12/2014 12:40:58 PAGE 7   

 365   3                              (*LunarDate) -= SN_CT_AL;
 366   3      
 367   3                              (*LunarMonth) = T_AL_DT_DL + 1 - TN_B_THT;
 368   3                              if((*LunarMonth) == 13) (*LunarMonth) = 1;
 369   3                      }
 370   2              }
 371   1      
 372   1              // Tinh Nam
 373   1              if(SolarMonth >= (*LunarMonth))
 374   1              {
 375   2                      (*LunarYear) = SolarYear;
 376   2              }
 377   1              else
 378   1              {
 379   2                      (*LunarYear) = SolarYear - 1;
 380   2              }
 381   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    367    ----
   CONSTANT SIZE    =   2400    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      18
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
